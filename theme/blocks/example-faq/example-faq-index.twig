<div id="{{ id }}" class="{{ block.className|default('') }} w-full m-auto">
  <div x-data='{
    openIndex: null,
    toggle(index) {
      this.openIndex = this.openIndex === index ? null : index;
      }
    }' class="w-full border border-gray-200 rounded-md flex flex-col divide-y divide-gray-200 gap-0"
    >
    {% for index, item in fields.items %}
      <div id="{{id|e('html_attr')}}-{{index}}" class="cursor-pointer group">
        <div class="flex flex-col gap-2" x-cloak>
          {% if item.question %}
            <div x-on:click="toggle('{{ index }}')"
               x-bind:aria-expanded="(openIndex === '{{ index }}').toString()"
               x-bind:class="openIndex === '{{ index }}' ? 'active' : ''"
               class="grid {{ (not titleIconDisabled) ? ((titleIconPosition == 'right') ? 'grid-cols-[auto_1fr] md:grid-cols-[1fr_auto]' : 'grid-cols-[auto_1fr]') : ''}} items-center w-full duration-200 ease-out p-4 group-hover:underline">

              {% if (titleIconPosition == 'left' and titleIconDisabled) %}
              <div class="p-2 pr-6">
                <div
                  x-bind:class="openIndex === '{{ index }}' ? 'rotate-90' : ''"
                  class="relative flex items-center justify-center size-4 duration-300 ease-out">
                  <div class="plus-icon absolute w-0.5 h-full rounded-full"></div>
                  <div x-bind:class="openIndex === '{{ index }}' ? 'rotate-90' : ''" class="plus-icon absolute w-full h-0.5 rounded-full"></div>
                </div>
              </div>
              {% endif %}

              {{ item.question }}

              {% if (titleIconPosition == 'right' and not titleIconDisabled) %}
                <div class="p-2">
                  <svg class="size-4 duration-200 ease-out"
                     x-bind:class="openIndex === '{{ index }}' ? 'rotate-180' : ''"
                     viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor"
                     stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="6 9 12 15 18 9"></polyline>
                  </svg>
                </div>
              {% endif %}
            </div>
          {% endif %}

          <!-- Content Section -->
          <div class="relative p-4 opacity-70"
             x-show="openIndex === '{{ index }}'"
             x-collapse x-cloak>
            <!-- Content to go here -->
            {{ item.answer }}
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    {{ schemaHtml|raw }}
</div>
