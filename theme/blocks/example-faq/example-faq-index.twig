<div id="{{ id }}" class="{{ block.className|default('') }} w-full m-auto">
	<div class="w-full">
		<div x-data='{
			openIndex: null,
			toggle(index) {
				this.openIndex = this.openIndex === index ? null : index;
				}
			}' class="accordion-group "
			>
			<div class="flex flex-col gap-2">
			{% for index, item in fields.items %}
				<div id="<?php echo esc_attr($id) . "-$index"; ?>">
					<div class="flex flex-col gap-2" x-cloak>
						{% if item.question %}
							<div x-on:click="toggle('<?php echo $index; ?>')"
								 x-bind:aria-expanded="(openIndex === '<?php echo $index; ?>').toString()"
								 x-bind:class="openIndex === '<?php echo $index; ?>' ? 'active' : ''"
								 class="grid <?php echo (!$titleIconDisabled) ? (($titleIconPosition === 'right') ? 'grid-cols-[auto_1fr] md:grid-cols-[1fr_auto]' : 'grid-cols-[auto_1fr]') : ''; ?> items-center w-full duration-200 ease-out accordion-title">

							<?php if ($titleIconPosition === 'left' && !$titleIconDisabled): ?>
								<div class="p-2 pr-6">
									<div
										x-bind:class="openIndex === '<?php echo $index; ?>' ? 'rotate-90' : ''"
										class="relative flex items-center justify-center size-4 duration-300 ease-out">
										<div class="plus-icon absolute w-0.5 h-full rounded-full"></div>
										<div x-bind:class="openIndex === '<?php echo $index; ?>' ? 'rotate-90' : ''" class="plus-icon absolute w-full h-0.5 rounded-full"></div>
									</div>
								</div>
							<?php endif; ?>

								<?php echo esc_html($item['question']); ?>

								<?php if ($titleIconPosition === 'right' && !$titleIconDisabled): ?>
									<div class="p-2">
										<svg class="size-4 duration-200 ease-out"
											 x-bind:class="openIndex === '<?php echo $index; ?>' ? 'rotate-180' : ''"
											 viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor"
											 stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
											<polyline points="6 9 12 15 18 9"></polyline>
										</svg>
									</div>
								<?php endif; ?>
							</div>
            {% endif %}

						<!-- Content Section -->
						<div class="relative accordion-content"
							 x-show="openIndex === '<?php echo $index; ?>'"
							 x-collapse x-cloak>
							<!-- Content to go here -->
							<?php echo $item['answer']; ?>
						</div>
					</div>
				</div>
				<?php endforeach; ?>
			</div>
    {{ schema_html }}
		</div>
	</div>
</div>
