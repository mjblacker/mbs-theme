{% set pagination_data = posts.pagination ?? pagination %}
{% if pagination_data.pages is not empty %}
    <nav class="flex items-center justify-center gap-3 mt-15 mb-12">
        {# Previous Button #}
        {% if pagination_data.prev and pagination_data.prev.found %}
            {% if pagination_data.is_ajax %}
                <button onclick="paginateProducts({{ pagination_data.prev.page }})" class="w-12 h-12 flex items-center justify-center border border-gray-300 rounded-full bg-[#f5f5f5] hover:bg-gray-200 transition-colors">
                    <img src="{{ function('get_template_directory_uri') }}/assets/images/arrow-left.png" alt="Previous" class="w-5 h-5">
                </button>
            {% else %}
                <a href="{{ pagination_data.prev.link }}" class="w-12 h-12 flex items-center justify-center border border-gray-300 rounded-full bg-[#f5f5f5] hover:bg-gray-200 transition-colors">
                    <img src="{{ function('get_template_directory_uri') }}/assets/images/arrow-left.png" alt="Previous" class="w-5 h-5">
                </a>
            {% endif %}
        {% else %}
            <span class="w-12 h-12 flex items-center justify-center border border-gray-200 rounded-full bg-[#f5f5f5] cursor-not-allowed opacity-50">
                <img src="{{ function('get_template_directory_uri') }}/assets/images/arrow-left.png" alt="Previous" class="w-5 h-5 opacity-50">
            </span>
        {% endif %}

        {# Page Numbers #}
        {% for page in pagination_data.pages %}
            {% if page.current %}
                <span class="w-12 h-12 flex items-center justify-center border-2 border-black rounded-lg font-medium text-gray-900 bg-white">
                    {{ page.title }}
                </span>
            {% else %}
                {% if pagination_data.is_ajax %}
                    <button onclick="paginateProducts({{ page.page }})" class="w-12 h-12 flex items-center justify-center border border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 transition-colors text-gray-700">
                        {{ page.title }}
                    </button>
                {% else %}
                    <a href="{{ page.link }}" class="w-12 h-12 flex items-center justify-center border border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 transition-colors text-gray-700">
                        {{ page.title }}
                    </a>
                {% endif %}
            {% endif %}
        {% endfor %}

        {# Next Button #}
        {% if pagination_data.next and pagination_data.next.found %}
            {% if pagination_data.is_ajax %}
                <button onclick="paginateProducts({{ pagination_data.next.page }})" class="w-12 h-12 flex items-center justify-center border border-gray-300 rounded-full bg-[#f5f5f5] hover:bg-gray-200 transition-colors">
                    <img src="{{ function('get_template_directory_uri') }}/assets/images/arrow-right.png" alt="Next" class="w-5 h-5">
                </button>
            {% else %}
                <a href="{{ pagination_data.next.link }}" class="w-12 h-12 flex items-center justify-center border border-gray-300 rounded-full bg-[#f5f5f5] hover:bg-gray-200 transition-colors">
                    <img src="{{ function('get_template_directory_uri') }}/assets/images/arrow-right.png" alt="Next" class="w-5 h-5">
                </a>
            {% endif %}
        {% else %}
            <span class="w-12 h-12 flex items-center justify-center border border-gray-200 rounded-full bg-[#f5f5f5] cursor-not-allowed opacity-50">
                <img src="{{ function('get_template_directory_uri') }}/assets/images/arrow-right.png" alt="Next" class="w-5 h-5 opacity-50">
            </span>
        {% endif %}
    </nav>
{% endif %}
