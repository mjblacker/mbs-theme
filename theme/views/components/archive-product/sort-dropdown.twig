<div class="flex justify-end items-center mb-2">
    <div class="relative flex items-center" x-data="{ open: false }">
        <label class="text-sm text-gray-700 mr-4">Sort by:</label>
        <button 
            @click="open = !open" 
            class="flex items-center justify-between px-4 pr-0 py-2 min-w-[100px] text-right"
        >
            <span x-text="getCurrentSortLabel()">Latest</span>
            <svg class="w-4 h-4 ml-2 transition-transform" :class="open ? 'rotate-180' : ''" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
        </button>
        
        <div 
            x-show="open" 
            @click.outside="open = false"
            x-transition:enter="transition ease-out duration-100"
            x-transition:enter-start="transform opacity-0 scale-95"
            x-transition:enter-end="transform opacity-100 scale-100"
            x-transition:leave="transition ease-in duration-75"
            x-transition:leave-start="transform opacity-100 scale-100"
            x-transition:leave-end="transform opacity-0 scale-95"
            class="absolute right-0 top-8 mt-1 w-full bg-white border border-gray-300 rounded-md shadow-lg z-50"
        >
            <div class="py-1">
                <button 
                    @click="setSortOrder('default'); open = false" 
                    class="block w-full px-4 py-2 text-left text-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50"
                    :class="sortOrder === 'default' ? 'bg-blue-50 text-blue-700' : 'text-gray-700'"
                >
                    Default
                </button>
                <button 
                    @click="setSortOrder('date_desc'); open = false" 
                    class="block w-full px-4 py-2 text-left text-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50"
                    :class="sortOrder === 'date_desc' ? 'bg-blue-50 text-blue-700' : 'text-gray-700'"
                >
                    Latest
                </button>
                <button 
                    @click="setSortOrder('date_asc'); open = false" 
                    class="block w-full px-4 py-2 text-left text-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50"
                    :class="sortOrder === 'date_asc' ? 'bg-blue-50 text-blue-700' : 'text-gray-700'"
                >
                    Oldest
                </button>
                <button 
                    @click="setSortOrder('price_asc'); open = false" 
                    class="block w-full px-4 py-2 text-left text-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50"
                    :class="sortOrder === 'price_asc' ? 'bg-blue-50 text-blue-700' : 'text-gray-700'"
                >
                    Price: Low to High
                </button>
                <button 
                    @click="setSortOrder('price_desc'); open = false" 
                    class="block w-full px-4 py-2 text-left text-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50"
                    :class="sortOrder === 'price_desc' ? 'bg-blue-50 text-blue-700' : 'text-gray-700'"
                >
                    Price: High to Low
                </button>
                <button 
                    @click="setSortOrder('name_asc'); open = false" 
                    class="block w-full px-4 py-2 text-left text-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50"
                    :class="sortOrder === 'name_asc' ? 'bg-blue-50 text-blue-700' : 'text-gray-700'"
                >
                    Product Name: A-Z
                </button>
                <button 
                    @click="setSortOrder('name_desc'); open = false" 
                    class="block w-full px-4 py-2 text-left text-sm hover:bg-gray-50 focus:outline-none focus:bg-gray-50"
                    :class="sortOrder === 'name_desc' ? 'bg-blue-50 text-blue-700' : 'text-gray-700'"
                >
                    Product Name: Z-A
                </button>
            </div>
        </div>
    </div>
</div>