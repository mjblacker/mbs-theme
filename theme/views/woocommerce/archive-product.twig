{% extends "base.twig" %}

{% block content %}
    <div class="woocommerce-shop prose max-w-none">
        <!-- Banner Header with Background Image -->
        <header class="relative bg-cover bg-center bg-no-repeat flex items-center" style="background-image: url('{{ function('get_template_directory_uri') }}/assets/images/shop-banner.png'); height: 171px;">
     
            <!-- Banner Content -->
            <div class="relative z-10 text-left container mx-auto px-4 sm:px-6 lg:px-8">
                {% if term %}
                    <h1 class="text-4xl text-white font-medium mb-4">{{ title }}</h1>
                    {% if term.description %}
                        <div class="text-4xl md:text-4xl text-white max-w-2xl">
                            All Products
                        </div>
                    {% endif %}
                {% else %}
                    <h1 class="text-4xl text-white font-medium">All Products</h1>
                {% endif %}
            </div>
        </header>

        {% include 'woocommerce/breadcrumbs.twig' %}

        <div class="container mx-auto mt-8 mb-10 px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col lg:flex-row gap-8" x-data="shopFilters">
                <!-- Left Sidebar (1/4 width) -->
                <aside class="w-full lg:w-1/4">
                    <div class="p-0">
                        
                        <!-- Categories Filter -->
                        {% if shop_filters.categories %}
                            {% include 'woocommerce/filter-component.twig' with {
                                'title': 'Categories',
                                'items': shop_filters.categories,
                                'filter_type': 'category'
                            } %}
                        {% endif %}

                        <!-- Brands Filter -->
                        {% if shop_filters.brands %}
                            {% include 'woocommerce/filter-component.twig' with {
                                'title': 'Brands',
                                'items': shop_filters.brands,
                                'filter_type': 'brand',
                                'show_collapse': false
                            } %}
                        {% endif %}

                        {% include 'woocommerce/apply-filters-button.twig' %}

                    </div>
                </aside>

                <!-- Main Content (3/4 width) -->
                <main class="w-full lg:w-3/4">
                    {% include 'woocommerce/loading-indicator.twig' %}

                    <!-- Product Results -->
                    <div id="product-results" x-show="!loading">
                        {% if posts %}
                            <div class="woocommerce-products sm:mb-6 lg:mb-10">
                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                    {% for post in posts %}
                                        {% include 'woocommerce/product-card.twig' with {
                                            'post': post,
                                            'show_brand': true,
                                            'show_sale_badge': true
                                        } %}
                                    {% endfor %}
                                </div>
                            </div>

                            {% include 'partial/pagination.twig' %}
                        {% else %}
                            <div class="text-center py-12">
                                <p class="text-gray-600 text-lg">{{ function('__', 'No products were found matching your selection.', 'woocommerce') }}</p>
                            </div>
                        {% endif %}
                    </div>
                </main>
            </div>
        </div>
    </div>

{% endblock %}